# Task: D002

## Metadata
| Field | Value |
|-------|-------|
| Lane | DEX |
| Type | ADD_STUB |
| Wave | - |
| Status | PENDING |

## Objective
Create TX builder with dry-run + destination allowlist.

## Context Pack

### Files
- `src/dex/tx_builder.py` (create)

### Target Signature
```python
DESTINATION_ALLOWLIST = {
    # Add approved program IDs / token mints here
}

class TxBuilder:
    def __init__(self, config: DexConfig):
        self.config = config

    def build_swap(self, input_mint: str, output_mint: str, amount: int, dry_run: bool = True) -> dict:
        """Build swap TX. Returns TX dict. If dry_run=True, don't sign."""

    def validate_destination(self, dest: str) -> bool:
        """Check if destination is in allowlist."""
```

### Expected Behavior
- Allowlist as module constant
- build_swap returns TX structure (not signed if dry_run)
- validate_destination checks allowlist
- Raise on unknown destination

### Check Command
```bash
python -c "from src.dex.tx_builder import TxBuilder, DESTINATION_ALLOWLIST; print(len(DESTINATION_ALLOWLIST))"
```

## Acceptance Criteria (DEX Gate)
- [ ] Dry-run builds TX dict
- [ ] Safety: allowlist enforced
