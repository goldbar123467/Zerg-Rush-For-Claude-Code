# Task: DOC-003 - Fix Task Naming & Message Prefix Standards

## Metadata
- Wave: 3
- Lane: INTEGRATION
- Type: DOC_SNIPPET
- Status: PENDING
- Priority: HIGH

---

## Context Pack: Current Inconsistencies

### Issue 1: Task Naming Convention Mismatch

**RUNBOOK.md states:**
```markdown
## Task Naming Convention

TASKS/<LANE>/T<NNN>.md
INBOX/T<NNN>_RESULT.md

Examples:
- TASKS/KERNEL/T001.md
- TASKS/ML/T002.md
- INBOX/T001_RESULT.md
```

**CLAUDE.md does NOT mention task naming format** (gap in documentation)

**Current task card being created uses:**
- Filename: `DOC-003.md` (prefix K/M/D pattern)
- Not the `T<NNN>` pattern documented in RUNBOOK

**Root cause:** Two competing naming schemes:
1. `T<NNN>` pattern (from RUNBOOK) - simple sequential
2. `<PREFIX>-<NNN>` pattern (emergent from actual task cards) - lane-aware

### Issue 2: Message Subject Prefix Inconsistency

**RUNBOOK.md says:**
```markdown
Message Conventions
Subject prefixes: `[TASK]` `[DONE]` `[PARTIAL]` `[BLOCKED]` `[FAILED]`
```

**CLAUDE.md says:**
```markdown
### Message Conventions
Subject prefixes: `[TASK]` `[DONE]` `[PARTIAL]` `[BLOCKED]` `[FAILED]`
```

**But /CLAUDE.md (project instructions) says:**
```markdown
### Message Conventions
Subject prefixes: `[TASK]` `[HANDOFF]` `[DONE]` `[BLOCKED]` `[QUESTION]`
```

**Discrepancy:** `/CLAUDE.md` uses:
- `[HANDOFF]` (not in RUNBOOK)
- `[QUESTION]` (not in RUNBOOK)
- **Missing:** `[PARTIAL]` (in RUNBOOK, not in /CLAUDE.md)
- **Missing:** `[FAILED]` (in RUNBOOK, not in /CLAUDE.md)

### Issue 3: Task Format Documentation

**RUNBOOK.md section "Task Card Format" states:**
```markdown
# Task: [TASK_ID]

## Metadata
- Wave: X
- Zergling: (assigned at runtime)
- Status: PENDING | IN_PROGRESS | DONE | PARTIAL | BLOCKED

## Context
Files to read (ONLY these):
- path/to/file.py

## Objective
Single-sentence goal.

## Deliverables
- [ ] Output 1
- [ ] Output 2

## Constraints
- Max 100 lines
- Max 2 files
```

**Actual task cards in SWARM/TASKS/ use extended format:**
- Header section with `Lane:` and `Type:` fields
- Context Pack section (more detailed than "Context")
- File paths section
- Surrounding code section
- Expected behavior section
- Check command section

**Gap:** Format definition doesn't match reality.

---

## Objective

Standardize and reconcile task naming, message prefix, and task card format documentation across RUNBOOK.md and CLAUDE.md to eliminate confusion and ensure all agents use consistent naming standards.

---

## Deliverables

- [ ] **Update RUNBOOK.md:**
  - Clarify task naming convention: `T<NNN>` vs. lane-aware patterns
  - Add section documenting extended Task Card Format (with Lane, Type, Context Pack)
  - Reconcile message prefix list with CLAUDE.md

- [ ] **Update CLAUDE.md (Agent Mail section):**
  - Standardize message prefix list: `[TASK]` `[DONE]` `[PARTIAL]` `[BLOCKED]` `[FAILED]`
  - Add `[HANDOFF]` and `[QUESTION]` if intentional, with explanations
  - Cross-reference RUNBOOK.md message conventions

- [ ] **Create SWARM/STANDARDS.md** (optional deliverable):
  - Single source of truth for naming, prefixes, and formats
  - Quick-reference table for all three inconsistencies
  - Examples of correct task card headers

---

## Constraints

- Max 100 lines added
- Edit existing files only (RUNBOOK.md, CLAUDE.md)
- No architectural changes
- Documentation only

---

## Check Command

```bash
# Verify naming consistency
grep -r "Task.*[TKD]-[0-9]" /home/ubuntu/projects/zerg-swarm/SWARM/TASKS/
grep -r "\[TASK\]\|\[DONE\]\|\[PARTIAL\]\|\[BLOCKED\]\|\[FAILED\]\|\[HANDOFF\]\|\[QUESTION\]" \
  /home/ubuntu/projects/zerg-swarm/CLAUDE.md \
  /home/ubuntu/projects/zerg-swarm/SWARM/RUNBOOK.md

# Verify both docs mention all prefixes
echo "=== RUNBOOK prefixes ===" && grep -A 2 "Message Conventions" /home/ubuntu/projects/zerg-swarm/SWARM/RUNBOOK.md
echo "=== CLAUDE.md prefixes ===" && grep -A 2 "Message Conventions" /home/ubuntu/projects/zerg-swarm/CLAUDE.md
```

---

## Files to Edit

1. `/home/ubuntu/projects/zerg-swarm/SWARM/RUNBOOK.md`
   - Task Naming Convention section (line ~72)
   - Task Card Format section (line ~89)
   - Message Conventions reference

2. `/home/ubuntu/projects/zerg-swarm/CLAUDE.md`
   - Message Conventions section (line ~15)

---

## Notes for Assignee

- Read both RUNBOOK.md and CLAUDE.md in full to understand current state
- This is a HIGH-priority documentation fix affecting all agent spawning
- Recommend creating SWARM/STANDARDS.md as single source of truth
- Task naming decision: confirm whether T<NNN> or lane-aware prefixes (K/M/Q/D/I-NNN) is canonical
- If lane-aware prefixes are canonical, update RUNBOOK.md Task Naming Convention section accordingly
